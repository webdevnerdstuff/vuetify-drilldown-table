<template>
	<v-app id="home">
		<!-- ====================================================== App Bar -->
		<AppBar @updated-drawer="toggleDrawer" />

		<!-- ====================================================== Navigation Drawer -->
		<v-navigation-drawer
			v-model="drawer"
			:absolute="drawerOptions.absolute"
			:color="drawerOptions.color"
			:elevation="drawerOptions.elevation"
		>
			<!-- <v-list>
				<v-list-item>
					<v-list-item-title class="text-h6">
						Drilldown Table
					</v-list-item-title>
					<v-list-item-subtitle></v-list-item-subtitle>
				</v-list-item>
			</v-list>

			<v-divider></v-divider> -->

			<MenuComponent :drawerOptions="drawerOptions" />
		</v-navigation-drawer>

		<!-- ====================================================== Main Container -->
		<v-main class="main-container pb-10">
			<v-responsive>
				<v-container class="px-10">
					<DocsComponent />
				</v-container>
			</v-responsive>
		</v-main>
	</v-app>
</template>

<script setup lang="ts">
import { provide, ref } from 'vue';
import AppBar from '@/layout/AppBar.vue';
import MenuComponent from '@/components/MenuComponent.vue';
import DocsComponent from '@/components/DocsComponent.vue';
import { useCoreStore } from '@/stores/index';

const store = useCoreStore();

type DrawerOptions = {
	absolute: boolean;
	color: string;
	elevation: number;
};

const drawer = ref<boolean>(true);
const drawerOptions = ref<DrawerOptions>({
	absolute: true,
	color: '',
	elevation: 10,
});

provide('drawerOptions', drawerOptions);
provide('links', store.links);

function toggleDrawer() {
	drawer.value = !drawer.value;
}
</script>

<style lang="scss">
html {
	scroll-behavior: smooth;
	scroll-padding-top: 70px;
}

.top-app-bar {
	z-index: 99 !important;

	.nav-drawer-btn {
		.nav-drawer-icon {
			height: 18px;
			width: 18px;
		}
	}
}

.v-heading {
	position: relative;

	>a {
		color: rgb(var(--v-theme-primary));
		display: inline-block;
		inset: 0;
		margin: 0 -0.7em;
		position: absolute;

		&:not(:hover):not(:focus) {
			opacity: 0;
		}
	}
}

.name-item:not(:hover):not(:focus) span {
	opacity: 0;
}

.v-divider {
	margin: 0;
}
</style>
